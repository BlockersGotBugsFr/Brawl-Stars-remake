<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Video Intro</title>
    <style>
      body {
        margin: 0;
        background: white; /* Start with black background for the intro */
        font-family: Arial, sans-serif;
        color: white;
        text-align: center;
        transition: background-color 1s ease-in-out, color 1s ease-in-out; /* Smooth transition for body background/color */
      }

      section {
        display: block; /* Start as block and hide with opacity later */
        height: 100vh;
        width: 100vw;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1000;
        background: black;
        opacity: 1; /* Initial opacity for the fade out */
        transition: opacity 1s ease-in-out; /* Add transition for opacity */
      }

      section.fade-out {
        opacity: 0; /* Target opacity for fading out */
      }

      #intro video {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      #main-content {
          display: none; /* Initially hidden */
          padding-top: 50px; /* Add some padding so content isn't at the very top */
      }
    </style>
  </head>
  <body>
    <section id="intro">
      <video id="introVideo" autoplay muted playsinline>
        <source src="lv_0_20250831190250.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </section>

    <div id="main-content">
        <h1>Welcome!</h1>
        <p>This is your main content, now visible on a white background.</p>
    </div>

    <script>
      const intro = document.getElementById("intro");
      const video = document.getElementById("introVideo");
      const body = document.body;
      const mainContent = document.getElementById("main-content");

      // Attempt to play the video when it's ready to play through
      video.addEventListener('canplaythrough', () => {
        video.play().catch(error => {
          console.error("Autoplay prevented:", error);
          // Fallback if autoplay is prevented
          handleIntroEnd();
        });
      }, { once: true });

      // When the video ends
      video.onended = () => {
        handleIntroEnd();
      };

      // Handle potential video loading errors
      video.addEventListener('error', (e) => {
        console.error("Video loading error:", e);
        handleIntroEnd();
      });

      function handleIntroEnd() {
        // Add fade-out class to trigger the CSS transition
        intro.classList.add('fade-out');

        // After the fade-out transition completes, hide the element and change background
        intro.addEventListener('transitionend', () => {
          intro.style.display = 'none'; // Fully hide after fade
          body.style.background = "white"; // Change body background
          body.style.color = "black"; // Change text color for white background
          mainContent.style.display = "block"; // Show main content
        }, { once: true }); // Ensure this event listener runs only once per transition
      }
    </script>
  </body>
</html>
