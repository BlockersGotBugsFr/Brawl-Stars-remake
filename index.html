
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Studio Intro</title>
  <style>
    body {
      margin: 0;
      background: black;
      font-family: Arial, sans-serif;
      color: white;
    }

    section {
      height: 100vh;
      width: 100vw;
      position: fixed;
      top: 0;
      left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    /* Intro video */
    #intro {
      background: black;
      z-index: 2;
    }

    #intro video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Loading screen */
    #loading {
      background: #007BFF; /* solid blue */
      color: white;
      display: none;
      z-index: 3;
      justify-content: flex-end; /* push bar to bottom */
      align-items: center;
      flex-direction: column;
      padding-bottom: 50px; /* distance from bottom */
    }

    .bar-container {
      width: 80%;
      height: 20px;
      background: #0056b3;
      border-radius: 10px;
      overflow: hidden;
    }

    .progress {
      height: 100%;
      width: 0%;
      background: #00ffff; /* bright cyan progress */
      transition: width 0.3s;
    }
  </style>
</head>
<body>
  <!-- Intro video -->
  <section id="intro">
    <video id="introVideo" autoplay muted playsinline>
      <source src="lv_0_20250831190250.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </section>

  <!-- Loading screen -->
  <section id="loading">
    <div class="bar-container">
      <div class="progress" id="progress"></div>
    </div>
  </section>

  <script>
    const intro = document.getElementById("intro");
    const video = document.getElementById("introVideo");
    const loading = document.getElementById("loading");
    const progress = document.getElementById("progress");

    // Video events
    video.addEventListener("canplaythrough", () => {
      video.play().catch(() => showLoading());
    });

    video.onended = showLoading;

    // Show loading screen
    function showLoading() {
      intro.style.display = "none";
      loading.style.display = "flex";

      let width = 0;
      const interval = setInterval(() => {
        if (width >= 100) {
          clearInterval(interval);
          goToLobby();
        } else {
          width += 2; // progress speed
          progress.style.width = width + "%";
        }
      }, 100);
    }

    function goToLobby() {
      window.location.href = "lobby.html"; // make sure this file exists!
    }
  </script>
</body>
</html>
